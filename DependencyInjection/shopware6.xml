<?xml version="1.0" ?>

<container xmlns="http://symfony.com/schema/dic/services"
           xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
           xsi:schemaLocation="http://symfony.com/schema/dic/services http://symfony.com/schema/dic/services/services-1.0.xsd">

    <services>
        <!-- Shopware ConnectionFactory -->
        <service id="SwagMigrationAssistant\Profile\Shopware6\Gateway\Connection\ConnectionFactory">
            <argument type="service" id="swag_migration_connection.repository"/>
        </service>

        <!-- Shopware Profile Gateways -->
        <service id="SwagMigrationAssistant\Profile\Shopware6\Gateway\Api\Shopware6ApiGateway">
            <argument type="service" id="SwagMigrationAssistant\Migration\Gateway\Reader\ReaderRegistry"/>
            <argument type="service" id="SwagMigrationAssistant\Profile\Shopware6\Gateway\Api\Reader\EnvironmentReader"/>
            <argument type="service" id="currency.repository"/>
            <argument type="service" id="SwagMigrationAssistant\Profile\Shopware6\Gateway\Api\Reader\TotalReader"/>
            <tag name="shopware.migration.gateway"/>
        </service>

        <!-- Shopware Converter Base classes -->
        <service id="SwagMigrationAssistant\Profile\Shopware6\Converter\ShopwareConverter"
                 parent="SwagMigrationAssistant\Migration\Converter\Converter" abstract="true"/>

        <service id="SwagMigrationAssistant\Profile\Shopware6\Converter\ProductManufacturerConverter"
                 parent="SwagMigrationAssistant\Profile\Shopware\Converter\ShopwareConverter" abstract="true"/>

        <service id="SwagMigrationAssistant\Profile\Shopware6\Converter\LanguageConverter"
                 parent="SwagMigrationAssistant\Profile\Shopware\Converter\ShopwareConverter" abstract="true"/>

        <service id="SwagMigrationAssistant\Profile\Shopware6\Converter\CurrencyConverter"
                 parent="SwagMigrationAssistant\Profile\Shopware\Converter\ShopwareConverter" abstract="true"/>

        <service id="SwagMigrationAssistant\Profile\Shopware6\Converter\CategoryConverter"
                 parent="SwagMigrationAssistant\Profile\Shopware\Converter\ShopwareConverter" abstract="true"/>

        <service id="SwagMigrationAssistant\Profile\Shopware6\Converter\CategoryAssociationConverter"
                 parent="SwagMigrationAssistant\Profile\Shopware\Converter\ShopwareConverter" abstract="true"/>

        <service id="SwagMigrationAssistant\Profile\Shopware6\Converter\TaxConverter"
                 parent="SwagMigrationAssistant\Profile\Shopware\Converter\ShopwareConverter" abstract="true"/>

        <service id="SwagMigrationAssistant\Profile\Shopware6\Converter\PropertyGroupConverter"
                 parent="SwagMigrationAssistant\Profile\Shopware\Converter\ShopwareConverter" abstract="true"/>

        <service id="SwagMigrationAssistant\Profile\Shopware6\Converter\ProductConverter"
                 parent="SwagMigrationAssistant\Profile\Shopware\Converter\ShopwareConverter" abstract="true"/>

        <service id="SwagMigrationAssistant\Profile\Shopware6\Converter\UnitConverter"
                 parent="SwagMigrationAssistant\Profile\Shopware\Converter\ShopwareConverter" abstract="true"/>

        <service id="SwagMigrationAssistant\Profile\Shopware6\Converter\RuleConverter"
                 parent="SwagMigrationAssistant\Profile\Shopware\Converter\ShopwareConverter" abstract="true"/>

        <service id="SwagMigrationAssistant\Profile\Shopware6\Converter\CountryConverter"
                 parent="SwagMigrationAssistant\Profile\Shopware\Converter\ShopwareConverter" abstract="true"/>

        <service id="SwagMigrationAssistant\Profile\Shopware6\Converter\CustomerGroupConverter"
                 parent="SwagMigrationAssistant\Profile\Shopware\Converter\ShopwareConverter" abstract="true"/>

        <!-- Shopware Reader -->
        <service id="SwagMigrationAssistant\Profile\Shopware6\Gateway\Api\Reader\EnvironmentReader">
            <argument type="service" id="SwagMigrationAssistant\Profile\Shopware6\Gateway\Connection\ConnectionFactory"/>
        </service>

        <service id="SwagMigrationAssistant\Profile\Shopware6\Gateway\Api\Reader\TotalReader">
            <argument type="service" id="SwagMigrationAssistant\Profile\Shopware6\Gateway\Connection\ConnectionFactory"/>
        </service>

        <service id="SwagMigrationAssistant\Profile\Shopware6\Gateway\Api\Reader\ApiReader" abstract="true">
            <argument type="service" id="SwagMigrationAssistant\Profile\Shopware6\Gateway\Connection\ConnectionFactory"/>
        </service>

        <!-- Shopware Dataselections -->
        <service id="SwagMigrationAssistant\Profile\Shopware6\DataSelection\ProductDataSelection">
            <tag name="shopware.migration.data_selection"/>
        </service>

        <service id="SwagMigrationAssistant\Profile\Shopware6\DataSelection\BasicSettingsDataSelection">
            <tag name="shopware.migration.data_selection"/>
        </service>

        <!-- Shopware DataSets -->
        <service id="SwagMigrationAssistant\Profile\Shopware6\DataSelection\DataSet\ProductManufacturerDataSet">
            <tag name="shopware.migration.data_set"/>
        </service>

        <service id="SwagMigrationAssistant\Profile\Shopware6\DataSelection\DataSet\LanguageDataSet">
            <tag name="shopware.migration.data_set"/>
        </service>

        <service id="SwagMigrationAssistant\Profile\Shopware6\DataSelection\DataSet\CategoryDataSet">
            <tag name="shopware.migration.data_set"/>
        </service>

        <service id="SwagMigrationAssistant\Profile\Shopware6\DataSelection\DataSet\CategoryAssociationDataSet">
            <tag name="shopware.migration.data_set"/>
        </service>

        <service id="SwagMigrationAssistant\Profile\Shopware6\DataSelection\DataSet\CurrencyDataSet">
            <tag name="shopware.migration.data_set"/>
        </service>

        <service id="SwagMigrationAssistant\Profile\Shopware6\DataSelection\DataSet\ProductDataSet">
            <tag name="shopware.migration.data_set"/>
        </service>

        <service id="SwagMigrationAssistant\Profile\Shopware6\DataSelection\DataSet\PropertyGroupDataSet">
            <tag name="shopware.migration.data_set"/>
        </service>

        <service id="SwagMigrationAssistant\Profile\Shopware6\DataSelection\DataSet\TaxDataSet">
            <tag name="shopware.migration.data_set"/>
        </service>

        <service id="SwagMigrationAssistant\Profile\Shopware6\DataSelection\DataSet\UnitDataSet">
            <tag name="shopware.migration.data_set"/>
        </service>

        <service id="SwagMigrationAssistant\Profile\Shopware6\DataSelection\DataSet\RuleDataSet">
            <tag name="shopware.migration.data_set"/>
        </service>

        <service id="SwagMigrationAssistant\Profile\Shopware6\DataSelection\DataSet\CountryDataSet">
            <tag name="shopware.migration.data_set"/>
        </service>

        <service id="SwagMigrationAssistant\Profile\Shopware6\DataSelection\DataSet\CustomerGroupDataSet">
            <tag name="shopware.migration.data_set"/>
        </service>

        <!-- API reader -->
        <service id="SwagMigrationAssistant\Profile\Shopware6\Gateway\Api\Reader\CategoryAssociationReader"
                 parent="SwagMigrationAssistant\Profile\Shopware6\Gateway\Api\Reader\ApiReader">
            <tag name="shopware.migration.reader"/>
        </service>

        <service id="SwagMigrationAssistant\Profile\Shopware6\Gateway\Api\Reader\CategoryReader"
                 parent="SwagMigrationAssistant\Profile\Shopware6\Gateway\Api\Reader\ApiReader">
            <tag name="shopware.migration.reader"/>
        </service>

        <service id="SwagMigrationAssistant\Profile\Shopware6\Gateway\Api\Reader\CurrencyReader"
                 parent="SwagMigrationAssistant\Profile\Shopware6\Gateway\Api\Reader\ApiReader">
            <tag name="shopware.migration.reader"/>
        </service>

        <service id="SwagMigrationAssistant\Profile\Shopware6\Gateway\Api\Reader\LanguageReader"
                 parent="SwagMigrationAssistant\Profile\Shopware6\Gateway\Api\Reader\ApiReader">
            <tag name="shopware.migration.reader"/>
        </service>

        <service id="SwagMigrationAssistant\Profile\Shopware6\Gateway\Api\Reader\ProductManufacturerReader"
                 parent="SwagMigrationAssistant\Profile\Shopware6\Gateway\Api\Reader\ApiReader">
            <tag name="shopware.migration.reader"/>
        </service>

        <service id="SwagMigrationAssistant\Profile\Shopware6\Gateway\Api\Reader\ProductReader"
                 parent="SwagMigrationAssistant\Profile\Shopware6\Gateway\Api\Reader\ApiReader">
            <tag name="shopware.migration.reader"/>
        </service>

        <service id="SwagMigrationAssistant\Profile\Shopware6\Gateway\Api\Reader\PropertyGroupReader"
                 parent="SwagMigrationAssistant\Profile\Shopware6\Gateway\Api\Reader\ApiReader">
            <tag name="shopware.migration.reader"/>
        </service>

        <service id="SwagMigrationAssistant\Profile\Shopware6\Gateway\Api\Reader\TaxReader"
                 parent="SwagMigrationAssistant\Profile\Shopware6\Gateway\Api\Reader\ApiReader">
            <tag name="shopware.migration.reader"/>
        </service>

        <service id="SwagMigrationAssistant\Profile\Shopware6\Gateway\Api\Reader\UnitReader"
                 parent="SwagMigrationAssistant\Profile\Shopware6\Gateway\Api\Reader\ApiReader">
            <tag name="shopware.migration.reader"/>
        </service>

        <service id="SwagMigrationAssistant\Profile\Shopware6\Gateway\Api\Reader\RuleReader"
                 parent="SwagMigrationAssistant\Profile\Shopware6\Gateway\Api\Reader\ApiReader">
            <tag name="shopware.migration.reader"/>
        </service>

        <service id="SwagMigrationAssistant\Profile\Shopware6\Gateway\Api\Reader\CountryReader"
                 parent="SwagMigrationAssistant\Profile\Shopware6\Gateway\Api\Reader\ApiReader">
            <tag name="shopware.migration.reader"/>
        </service>

        <service id="SwagMigrationAssistant\Profile\Shopware6\Gateway\Api\Reader\CustomerGroupReader"
                 parent="SwagMigrationAssistant\Profile\Shopware6\Gateway\Api\Reader\ApiReader">
            <tag name="shopware.migration.reader"/>
        </service>

        <!-- Writer -->
        <service id="SwagMigrationAssistant\Profile\Shopware6\Writer\ProductManufacturerWriter"
                 parent="SwagMigrationAssistant\Migration\Writer\AbstractWriter">
            <argument type="service" id="Shopware\Core\Framework\DataAbstractionLayer\Write\EntityWriter"/>
            <argument type="service" id="Shopware\Core\Content\Product\Aggregate\ProductManufacturer\ProductManufacturerDefinition"/>
            <tag name="shopware.migration.writer"/>
        </service>

        <service id="SwagMigrationAssistant\Profile\Shopware6\Writer\CategoryAssociationWriter"
                 parent="SwagMigrationAssistant\Migration\Writer\AbstractWriter">
            <argument type="service" id="Shopware\Core\Framework\DataAbstractionLayer\Write\EntityWriter"/>
            <argument type="service" id="Shopware\Core\Content\Category\CategoryDefinition"/>
            <tag name="shopware.migration.writer"/>
        </service>

        <service id="SwagMigrationAssistant\Profile\Shopware6\Writer\PropertyGroupWriter"
                 parent="SwagMigrationAssistant\Migration\Writer\AbstractWriter">
            <argument type="service" id="Shopware\Core\Framework\DataAbstractionLayer\Write\EntityWriter"/>
            <argument type="service" id="Shopware\Core\Content\Property\PropertyGroupDefinition"/>
            <tag name="shopware.migration.writer"/>
        </service>

        <service id="SwagMigrationAssistant\Profile\Shopware6\Writer\TaxWriter"
                 parent="SwagMigrationAssistant\Migration\Writer\AbstractWriter">
            <argument type="service" id="Shopware\Core\Framework\DataAbstractionLayer\Write\EntityWriter"/>
            <argument type="service" id="Shopware\Core\System\Tax\TaxDefinition"/>
            <tag name="shopware.migration.writer"/>
        </service>

        <service id="SwagMigrationAssistant\Profile\Shopware6\Writer\UnitWriter"
                 parent="SwagMigrationAssistant\Migration\Writer\AbstractWriter">
            <argument type="service" id="Shopware\Core\Framework\DataAbstractionLayer\Write\EntityWriter"/>
            <argument type="service" id="Shopware\Core\System\Unit\UnitDefinition"/>
            <tag name="shopware.migration.writer"/>
        </service>

        <service id="SwagMigrationAssistant\Profile\Shopware6\Writer\RuleWriter"
                 parent="SwagMigrationAssistant\Migration\Writer\AbstractWriter">
            <argument type="service" id="Shopware\Core\Framework\DataAbstractionLayer\Write\EntityWriter"/>
            <argument type="service" id="Shopware\Core\Content\Rule\RuleDefinition"/>
            <tag name="shopware.migration.writer"/>
        </service>
    </services>
</container>
